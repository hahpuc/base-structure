<div
  class="antialiased flex min-h-screen h-screen text-base text-foreground bg-background [--header-height:60px] [--sidebar-width:270px] lg:overflow-hidden bg-mono dark:bg-background"
>
  <!-- Base -->
  <div class="flex grow">
    <!-- Header (Mobile) -->
    <header
      class="flex lg:hidden items-center fixed z-10 top-0 start-0 end-0 shrink-0 bg-mono dark:bg-background h-(--header-height)"
      id="header"
    >
      <!-- Container -->
      <div class="kt-container-fixed flex items-center justify-between flex-wrap gap-3">
        <a href="#">
          <img class="size-[34px]" src="assets/media/app/apple-touch-icon.png" />
        </a>
        <button class="kt-btn kt-btn-icon kt-btn-dim hover:text-white -me-2" (click)="toggleSidebar()">
          <i class="ki-filled ki-menu"></i>
        </button>
      </div>
      <!-- End of Container -->
    </header>
    <!-- End of Header -->

    <!-- Wrapper -->
    <div class="flex flex-col lg:flex-row grow pt-(--header-height) lg:pt-0">
      <!-- Sidebar -->
      <div
        class="flex flex-col fixed top-0 bottom-0 z-20 lg:flex items-stretch shrink-0 w-(--sidebar-width) dark [--kt-drawer-enable:true] lg:[--kt-drawer-enable:false] kt-drawer kt-drawer-start transition-transform duration-300 ease-in-out lg:translate-x-0"
        [class.translate-x-0]="isSidebarOpen"
        [class.-translate-x-full]="!isSidebarOpen"
        id="sidebar"
      >
        <!-- Sidebar Header -->
        <div class="flex flex-col gap-2.5" id="sidebar_header">
          <div class="flex items-center gap-2.5 px-3.5 h-[60px]">
            <a href="#">
              <img class="size-[34px]" src="assets/media/app/apple-touch-icon.png" />
            </a>
            <div class="kt-menu kt-menu-default grow">
              <div class="kt-menu-item grow">
                <div class="kt-menu-label cursor-pointer text-mono font-medium grow justify-between">
                  <span class="text-lg font-medium text-inverse grow">LongNguyen</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End of Sidebar Header -->

        <!-- Sidebar Menu Component -->
        <div class="h-full">
          <app-sidebar-menu></app-sidebar-menu>
        </div>
        <!-- End of Sidebar Menu Component -->

        <!-- Sidebar Footer -->
        <div class="flex flex-center justify-between shrink-0 ps-4 pe-3.5 mb-3.5" id="sidebar_footer">
          <!-- User -->
          <div
            data-kt-dropdown="true"
            data-kt-dropdown-offset="10px, 10px"
            data-kt-dropdown-offset-rtl="-20px, 10px"
            data-kt-dropdown-placement="bottom-start"
            data-kt-dropdown-placement-rtl="bottom-end"
            data-kt-dropdown-trigger="click"
          >
            <div class="cursor-pointer shrink-0" data-kt-dropdown-toggle="true">
              <img
                alt=""
                class="size-9 rounded-full border-2 border-mono/25 shrink-0 cursor-pointer"
                [src]="currentUser.avatar"
              />
            </div>

            <div class="kt-dropdown-menu w-[250px]" data-kt-dropdown-menu="true">
              <div class="flex items-center justify-between px-2.5 py-1.5 gap-1.5">
                <div class="flex items-center gap-2">
                  <img
                    alt=""
                    class="size-9 shrink-0 rounded-full border-2 border-green-500"
                    [src]="currentUser.avatar"
                  />
                  <div class="flex flex-col gap-1.5">
                    <span class="text-sm text-foreground font-semibold leading-none"> KARINA </span>
                    <div class="text-xs text-white font-medium leading-none">
                      {{ 'KARINA@gmail.com' }}
                    </div>
                  </div>
                </div>
              </div>

              <ul class="kt-dropdown-menu-sub">
                <li>
                  <div class="kt-dropdown-menu-separator"></div>
                </li>
                <li>
                  <a class="kt-dropdown-menu-link" (click)="goToProfile()">
                    <i class="ki-filled ki-profile-circle"> </i>
                    My Profile
                  </a>
                </li>

                <!-- Language I18N -->
                <li data-kt-dropdown="true" data-kt-dropdown-placement="right-start" data-kt-dropdown-trigger="hover">
                  <button class="kt-dropdown-menu-toggle py-1" data-kt-dropdown-toggle="true">
                    <span class="flex items-center gap-2">
                      <i class="ki-filled ki-icon"> </i>
                      Language
                    </span>
                    <span class="ms-auto kt-badge kt-badge-stroke shrink-0">
                      <span class="kt-badge-label text-secondary-foreground">{{ getLanguageLabel() }}</span>
                      <img
                        alt=""
                        class="inline-block size-3.5 rounded-full"
                        src="assets/media/flags/united-states.svg"
                      />
                    </span>
                  </button>
                  <div class="kt-dropdown-menu w-[180px]" data-kt-dropdown-menu="true">
                    <ul class="kt-dropdown-menu-sub">
                      <li [class.active]="getLanguage() === 'en'">
                        <a class="kt-dropdown-menu-link" (click)="setLanguage('en')">
                          <span class="flex items-center gap-2">
                            <img
                              alt=""
                              class="inline-block size-4 rounded-full"
                              src="assets/media/flags/united-states.svg"
                            />
                            <span class="kt-menu-title"> English </span>
                          </span>

                          @if (getLanguage() === 'en') {
                            <i class="ki-solid ki-check-circle ms-auto text-green-500 text-base"></i>
                          }
                        </a>
                      </li>
                      <li [class.active]="getLanguage() === 'vi'">
                        <a class="kt-dropdown-menu-link" (click)="setLanguage('vi')">
                          <span class="flex items-center gap-2">
                            <img alt="" class="inline-block size-4 rounded-full" src="assets/media/flags/vietnam.svg" />
                            <span class="kt-menu-title"> Việt Nam </span>
                          </span>
                          @if (getLanguage() === 'vi') {
                            <i class="ki-solid ki-check-circle ms-auto text-green-500 text-base"></i>
                          }
                        </a>
                      </li>
                      <!-- <li class="">
                        <a class="kt-dropdown-menu-link" href="?dir=ltr">
                          <span class="flex items-center gap-2">
                            <img alt="" class="inline-block size-4 rounded-full" src="assets/media/flags/china.svg" />
                            <span class="kt-menu-title"> Tung Của </span>
                          </span>
                        </a>
                      </li> -->
                    </ul>
                  </div>
                </li>
                <li>
                  <div class="kt-dropdown-menu-separator"></div>
                </li>
              </ul>
              <div class="px-2.5 pt-1.5 mb-2.5 flex flex-col gap-3.5">
                <div class="flex items-center gap-2 justify-between">
                  <span class="flex items-center gap-2">
                    <i class="ki-filled ki-moon text-base text-muted-foreground"> </i>
                    <span class="font-medium text-2sm"> Dark Mode </span>
                  </span>
                  <input
                    class="kt-switch"
                    data-kt-theme-switch-state="dark"
                    data-kt-theme-switch-toggle="true"
                    name="check"
                    type="checkbox"
                    value="1"
                  />
                </div>
                <a class="kt-btn kt-btn-outline justify-center w-full" (click)="logout()"> Log out </a>
              </div>
            </div>
          </div>

          <!-- End of User -->
          <div class="flex items-center gap-1.5">
            <!-- Notifications -->
            <button class="kt-btn kt-btn-ghost kt-btn-icon size-8 hover:bg-background hover:[&_i]:text-primary">
              <i class="ki-filled ki-notification-status text-lg"></i>
            </button>
            <!-- Logout -->
            <a
              class="kt-btn kt-btn-ghost kt-btn-icon size-8 hover:bg-background hover:[&_i]:text-primary"
              (click)="logout()"
            >
              <i class="ki-filled ki-exit-right"></i>
            </a>
          </div>
        </div>
        <!-- End of Sidebar Footer -->
      </div>
      <!-- End of Sidebar -->

      <!-- Main -->
      <div class="flex flex-col grow lg:rounded-l-xl bg-background border border-input lg:ms-(--sidebar-width)">
        <div
          class="flex flex-col grow kt-scrollable-y-auto lg:[--kt-scrollbar-width:auto] pt-5"
          id="scrollable_content"
        >
          <main class="grow" role="content">
            <!-- Toolbar -->
            <app-header />
            <!-- End of Toolbar -->

            <!-- Container -->
            <div class="kt-container-fixed">
              <router-outlet></router-outlet>
            </div>
            <!-- End of Container -->
          </main>

          <!-- Footer -->
          <footer class="footer">
            <!-- Container -->
            <div class="kt-container-fixed">
              <div class="flex flex-col md:flex-row justify-center md:justify-between items-center gap-3 py-5">
                <div class="flex order-2 md:order-1 gap-2 font-normal text-sm">
                  <span class="text-muted-foreground">2025©</span>
                  <a class="text-secondary-foreground hover:text-primary">Long Nguyen.</a>
                </div>
                <nav class="flex order-1 md:order-2 gap-4 font-normal text-sm text-secondary-foreground">
                  <a class="hover:text-primary" href="#">Docs</a>
                  <a class="hover:text-primary" href="#">Purchase</a>
                  <a class="hover:text-primary" href="#">FAQ</a>
                  <a class="hover:text-primary" href="#">Support</a>
                  <a class="hover:text-primary" href="#">License</a>
                </nav>
              </div>
            </div>
            <!-- End of Container -->
          </footer>
          <!-- End of Footer -->
        </div>
      </div>
      <!-- End of Main -->
    </div>
    <!-- End of Wrapper -->
  </div>
  <!-- End of Base -->

  <!-- Mobile sidebar overlay -->
  <div
    *ngIf="isSidebarOpen"
    class="fixed inset-0 z-19 lg:hidden transition-opacity duration-300 ease-in-out"
    (click)="toggleSidebar()"
  >
    <div class="sidebar-overlay fixed inset-0 bg-black opacity-60 transition-opacity duration-300"></div>
  </div>
</div>
